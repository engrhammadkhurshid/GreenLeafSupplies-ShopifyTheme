{{ 'gls-sticky-socials.css' | asset_url | stylesheet_tag }}

<div class="gls-sticky-socials">
  {%- for block in section.blocks -%}
    <div class="gls-sticky-socials__item" {{ block.shopify_attributes }}>
      <a href="{{ block.settings.link }}" class="gls-sticky-socials__link" target="_blank">
        <div class="gls-sticky-socials__icon-wrapper" style="--social-bg-color: {{ block.settings.color }}; --social-text-color: {{ block.settings.text_color }};">
          {%- if block.settings.custom_icon != blank -%}
            {{ block.settings.custom_icon | image_url: width: 48 | image_tag: loading: 'lazy' }}
          {%- else -%}
            {%- case block.settings.icon -%}
              {%- when 'phone' -%}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg>
              {%- when 'email' -%}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
              {%- when 'whatsapp' -%}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
              {%- when 'quote' -%}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
              {%- when 'chat' -%}
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
            {%- endcase -%}
          {%- endif -%}
        </div>
        <div class="gls-sticky-socials__details" style="--social-bg-color: {{ block.settings.color }}; --social-text-color: {{ block.settings.text_color }};">
          {{ block.settings.text }}
        </div>
      </a>
    </div>
  {%- endfor -%}
</div>

{% schema %}
{
  "name": "Sticky Socials",
  "tag": "section",
  "class": "section-sticky-socials",
  "settings": [],
  "blocks": [
    {
      "type": "social_link",
      "name": "Social Link",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "default": "phone",
          "options": [
            { "value": "phone", "label": "Phone" },
            { "value": "email", "label": "Email" },
            { "value": "whatsapp", "label": "WhatsApp" },
            { "value": "quote", "label": "Get Quote" },
            { "value": "chat", "label": "Chat" }
          ]
        },
        {
          "type": "image_picker",
          "id": "custom_icon",
          "label": "Custom Icon Image"
        },
        {
          "type": "text",
          "id": "text",
          "label": "Hover Text",
          "default": "Contact Us"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        },
        {
          "type": "color",
          "id": "color",
          "label": "Background Color",
          "default": "#7AAE5C"
        },
        {
          "type": "color",
          "id": "text_color",
          "label": "Text Color",
          "default": "#ffffff"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Sticky Socials",
      "blocks": [
        {
          "type": "social_link",
          "settings": {
            "icon": "phone",
            "text": "+1 862-237-7067",
            "color": "#3b82f6"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "icon": "email",
            "text": "sales@greenleafsupplies.com",
            "color": "#ef4444"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "icon": "whatsapp",
            "text": "Chat on WhatsApp",
            "color": "#22c55e"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "icon": "quote",
            "text": "Get A Quote",
            "color": "#f59e0b"
          }
        }
      ]
    }
  ]
}
{% endschema %}
